set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "CONSULTARPROVEEDOR" (
    pPROVEEDOR_ID IN NUMBER,
    pCursor OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN pCursor FOR
        SELECT  PROVEEDOR_ID,
                NOMBRE_PROVEEDOR,
                EMAIL,
                TELEFONO
        FROM PROVEEDOR P
        WHERE PROVEEDOR_ID = pPROVEEDOR_ID;
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "INSERTAR_PROVEEDOR" 
(
    pNOMBRE_PROVEEDOR IN VARCHAR2,
    pEMAIL IN VARCHAR2 ,
    pTELEFONO IN VARCHAR2 
) AS 
BEGIN
    INSERT INTO PROVEEDOR (NOMBRE_PROVEEDOR,EMAIL,TELEFONO) VALUES ( pNOMBRE_PROVEEDOR, pEMAIL, pTELEFONO);
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "ELIMINAR_PROVEEDOR" (pPROVEEDOR_ID IN NUMBER)
IS
BEGIN

    DELETE FROM PROVEEDOR WHERE PROVEEDOR_ID = pPROVEEDOR_ID;
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "ACTUALIZARPROVEEDOR" (

  pPROVEEDOR_ID IN proveedor.PROVEEDOR_ID%TYPE,
  pNOMBRE_PROVEEDOR IN proveedor.NOMBRE_PROVEEDOR%TYPE,
  pEMAIL IN proveedor.EMAIL%TYPE,
  pTELEFONO IN proveedor.TELEFONO%TYPE DEFAULT NULL
) AS
  
BEGIN

  UPDATE PROVEEDOR
  SET 
      NOMBRE_PROVEEDOR = pNOMBRE_PROVEEDOR,
      EMAIL = pEMAIL,
      TELEFONO = pTELEFONO

  WHERE PROVEEDOR_ID = pPROVEEDOR_ID;

END;

---PROCEDIMIENTOS DE RECURSO

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "CONSULTARRECURSO" (
    pRECURSO_ID IN NUMBER,
    pCursor OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN pCursor FOR
        SELECT  RECURSO_ID,
                TIPO_RECURSO,
                URL
        FROM RECURSO R
        WHERE RECURSO_ID = RECURSO_ID;
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "INSERTAR_RECURSO" 
(
    pTIPO_RECURSO IN VARCHAR2,
    pURL IN VARCHAR2 
) AS 
BEGIN
    INSERT INTO RECURSO (TIPO_RECURSO,URL) VALUES ( pTIPO_RECURSO, pURL);
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "ELIMINAR_RECURSO" (pRECURSO_ID IN NUMBER)
IS
BEGIN

    DELETE FROM RECURSO WHERE RECURSO_ID = pRECURSO_ID;
END;

set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "ACTUALIZARRECURSO" (

  pRECURSO_ID IN recurso.RECURSO_ID%TYPE,
  pTIPO_RECURSO IN recurso.TIPO_RECURSO%TYPE,
  pURL IN recurso.URL%TYPE DEFAULT NULL
) AS
  
BEGIN

  UPDATE RECURSO
  SET 
      TIPO_RECURSO = pTIPO_RECURSO,
      URL = pURL

  WHERE RECURSO_ID = pRECURSO_ID;

END;